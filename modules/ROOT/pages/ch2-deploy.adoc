= Deploy Apps to Private Spaces
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]


include::partial$feature-availability.adoc[tag=featureUnavailable]


*THIS IS PLACEHOLDER CONTENT UNTIL THE UI IS AVAILABLE* 

// How can we share this content with RTF?


You deploy apps to a private space using Runtime Manager.

== Deploy an App to a Private Space

//SELECT PRIVATE SPACE SHARED
include::partial$select-private-space.adoc[tag=selectAppsPage]
. Click *Deploy application*.
. In the *Deploy Application* page:
.. Enter the name of the application.
.. Select the name of the private space from the *Deployment Target* list.
.. Select an application file:
+
*** To upload a Mule app JAR file from your system, select *Choose file > Upload file*.
*** To choose an example app from Anypoint Exchange:
.... Select *Choose file > Import file from Exchange*.
.... In the *Get from Exchange* page, enter `hello` in the *Search assets by name*:
+
image::rtm-get-from-exchange.png[Get from Exchange page]
.... Click *Hello World* and then click *Select*.
.. Complete the fields for each tab on the page:
+
*We need some scenarios to document - for example, select these options to accomplish this goal.*
+
*** <<Deployment Target Tab>>
*** <<Ingress Tab>>
*** <<Properties Tab>>
*** <<JVM Tab>>
*** <<Logs Tab>>

. Click *Deploy Application*. 

=== Deployment Target Tab 

Runtime version::
Specifies the Mule runtime engine version
Replicas::
Specifies the number of replicas, or instances, of the application to deploy
+
A minimum of two replicas is required for high availability.
Run in Runtime Cluster Mode::
Enables Mule clustering across each replica of the application
Enforce deploying replicas across nodes::
Selecting this option might cause some replicas in the deployment to remain in Pending status if there are unsufficient worker nodes or resources available on the worker nodes needed to deploy each replica.
The deployment status transitions to Running after all replicas are deployed on different worker nodes.

Deployment model::
+
--
* *Rolling update*:
** Maintains availability by incrementally updating replicas.
** Requires one additional replica's worth of resources to succeed.

* *Recreate*:
** Terminates replicas before redeployment.
** Redeployment is faster and doesn't require additional resources.
--
Resource allocation::
+
--
* *Reserved CPU*: Specify a value between `0.02` and `3.7` vCPU.
* *CPU Limit*: Specify a value between `0.02` and `3.7` vCPU.
* *Memory*: Specify a value between `0.7` and `14.5` GB.
--


=== Ingress Tab 

Enable inbound traffic::
+
-- 
Enable this option to allow incoming HTTP requests to be processed by this application.
Ensure your application is configured to accept connections on port 8081.

* *Enable last-mile security*
Forwards HTTPS connections to be decrypted by this application. This option requires an SSL certificate to be included in the Mule application, and also requires more CPU resources.
* *Forward SSL session*: Enables SSL forwarding during a session.
--
Public endpoint::
+
--
Indicates how the endpoint can be reached via the public internet.

Domain specifies the domain, such as `cloudhub.io`, for the app.
Domains are configured for the private space.
See xref:ps-config-domains.adoc[Enable Inbound Traffic to Your Apps Deployed to a Private Space].
--

=== Properties Tab 

For information about configuring app properties, see:

* xref:ch2-manage-props.adoc[Change App Behavior with Properties] 
* xref:ch2-protect-app-props.adoc[Protect App Property Values]

=== JVM Tab

Enter arguments to pass to Java Virtual Machine.

=== Logs Tab

include::partial$feature-availability.adoc[tag=featureUnavailable]

If log forwarding is not configured for the private space, the options in the *Logs* tab are disabled.
See xref:ps-config-log-forwarding.adoc[Configure Log Forwarding for a Private Space].

Show logs in Anypoint Monitoring::
Forwards only application logs to Anypoint Monitoring and requires a Titanium subscription.

Forward logs to _service_::
Forwards application and load-balancer logs to the specified service:
+
** Azure
** Elasticsearch
** Graylog (GELF)
** Splunk
** CloudWatch

For information about viewing logs, see xref:ch2-view-logs.adoc[View Log Data for Deployed Apps].


== Download a Test App from Exchange

If you don't have a Mule app to test with, you can download an example app from Anypoint Exchange.

[NOTE]
You must be logged into your Anypoint Platform account to see the example assets on Exchange. 

. From Anypoint Platform, select *Exchange*.

. From the *All assets* list, select *Provided by MuleSoft*.
. From the *All types* menu, select *Examples*.
. Click an app to download, for example, *Hello World*. 
. Click *Download*:
+
image::exchange-app-download.png[Download button in Exchange]
+
Exchange downloads the app JAR file to your local system.

== See Also

* https://anypoint.mulesoft.com/exchange/?view=grid&type=example&search=&organizationId=68ef9520-24e9-4cf2-b2f5-620025690913[Example Assets provided by MuleSoft^]

